# GeoJSON Structure Reference

**File:** `assets/data/events.geojson`  
**Generated by:** `scripts/generate_output.py`  
**Last Updated:** January 2026

---

## Overview

The `events.geojson` file contains all AI-analyzed military events exported from the SQLite database. Each feature represents a unique event with full tactical assessment.

---

## Schema

### Root Structure
```json
{
  "type": "FeatureCollection",
  "features": [ /* Array of Feature objects */ ]
}
```

### Feature Structure
```json
{
  "type": "Feature",
  "geometry": {
    "type": "Point",
    "coordinates": [longitude, latitude]
  },
  "properties": { /* See Properties Table */ }
}
```

---

## Properties Reference

### Core Fields

| Field | Type | Description |
|-------|------|-------------|
| `id` | `string` | Unique event identifier (UUID) |
| `title` | `string` | AI-generated event headline (English) |
| `description` | `string` | Detailed event summary |
| `date` | `string` | ISO timestamp (`YYYY-MM-DD HH:MM:SS`) |

### T.I.E. Metrics (Target-Kinetic-Effect)

| Field | Type | Range | Description |
|-------|------|-------|-------------|
| `tie_total` | `float` | 0-100 | Composite intensity score: `K Ã— T Ã— E Ã· 10` |
| `vec_k` | `float` | 1-10 | **Kinetic Score** - Weapon magnitude |
| `vec_t` | `float` | 1-10 | **Target Score** - Target strategic value |
| `vec_e` | `float` | 1-10 | **Effect Score** - Damage outcome |
| `intensity_score` | `float` | 1-10 | Alias for `vec_k` (legacy compatibility) |

#### T.I.E. Vector Definitions

**Vector K (Kinetic Magnitude)**
| Score | Definition |
|-------|------------|
| 1 | Small Arms, Sniper |
| 2 | Light Mortars (60-82mm) |
| 3 | Heavy Mortars (120mm), FPV Drone |
| 4 | Tube Artillery (155mm) |
| 5 | MLRS (Grad), Tank shelling |
| 6 | Precision Strike (HIMARS single) |
| 7 | Heavy Strike (Iskander, KAB-500) |
| 8 | Massive Strike (Missile Wave >3) |
| 9 | Strategic Bombing (Tu-95), TOS-1A |
| 10 | WMD / Dam Breach / Massive Detonation |

**Vector T (Target Value)**
| Score | Definition |
|-------|------------|
| 1 | Empty Terrain, Abandoned |
| 2 | Civilian Residential |
| 3 | Infantry Positions |
| 4 | Tactical Logistics |
| 5 | Heavy Armor (Tanks, IFVs) |
| 6 | Advanced Systems (EW, SAM) |
| 7 | Operational HQ, Key Bridges |
| 8 | Strategic Air Defense, Airfields |
| 9 | Strategic Industry, High Command |
| 10 | National Leadership, Nuclear |

**Vector E (Effect/Outcome)**
| Score | Definition |
|-------|------------|
| 1 | Failure / Intercepted |
| 2 | Negligible (missed) |
| 3 | Suppression |
| 4 | Light Damage |
| 5 | Moderate Damage |
| 6 | Severe Damage |
| 7 | Destruction (single asset) |
| 8 | Destruction (group) |
| 9 | Annihilation |
| 10 | Total Erase |

### Quality Metrics

| Field | Type | Range | Description |
|-------|------|-------|-------------|
| `reliability` | `int` | 0-100 | Source reliability score |
| `bias_score` | `float` | -10 to +10 | Political lean (-10=Pro-RU, +10=Pro-UA) |

#### Reliability Calculation
```
Base: 30
+ 20 if corroborated (multiple sources)
+ 20 if visual evidence
+ 30 if cross-verified (both sides)
+ 10 if specific details (coords, units)
- 10 if propagandistic tone
Max 30 if "unconfirmed" stated
```

### Tactical Data

| Field | Type | Values | Description |
|-------|------|--------|-------------|
| `classification` | `string` | See below | Military classification |
| `target_type` | `string` | Free text | Target category |

**Classification Values:**
- `ATTRITION` - Static fighting/shelling
- `SHAPING_OFFENSIVE` - Strikes on logistics/infrastructure
- `SHAPING_COERCIVE` - Strikes on civilian targets
- `MANOEUVRE` - Territorial changes
- `LOGISTICS` - Support operations
- `INCOHERENT_DISARRAY` - Operational failures
- `NULL` - Non-military/propaganda
- `UNKNOWN` - Unclassified

### Content Fields

| Field | Type | Description |
|-------|------|-------------|
| `ai_reasoning` | `string` | Bilingual analysis (EN/IT) from The Strategist |
| `has_video` | `boolean` | Whether visual evidence exists |
| `sources_list` | `string` | JSON array of `{name, url}` objects |

### Marker Styling

| Field | Type | Description |
|-------|------|-------------|
| `marker_radius` | `float` | Calculated: `4 + (tie_total / 10)` |
| `marker_color` | `string` | Hex color based on `effect_score` |

**Color Scale:**
| Effect Score | Color | Meaning |
|--------------|-------|---------|
| â‰¥8 | `#ef4444` | ðŸ”´ Critical |
| 5-7 | `#f59e0b` | ðŸŸ  Significant |
| 3-4 | `#eab308` | ðŸŸ¡ Moderate |
| <3 | `#64748b` | âšª Minor/Unknown |

---

## Example Feature

```json
{
  "type": "Feature",
  "geometry": {
    "type": "Point",
    "coordinates": [37.8622574, 47.997797]
  },
  "properties": {
    "id": "71c3cb87-7518-4edb-b562-c9467c7c0200",
    "title": "Russian Forces Advance in Donetsk",
    "description": "Russian Forces have captured 23% of the Donetsk region...",
    "date": "2025-12-15 08:59:58",
    
    "tie_total": 39.0,
    "vec_k": 5.0,
    "vec_t": 5.0,
    "vec_e": 6.0,
    
    "reliability": 72,
    "bias_score": 3.6,
    
    "classification": "MANOEUVRE",
    "target_type": "TERRITORY",
    "intensity_score": 5.0,
    
    "ai_reasoning": "[EN] The Ukrainian blockade disrupts Russian supply lines...\n[IT] Il blocco ucraino interrompe le linee di rifornimento...",
    "has_video": true,
    "sources_list": "[{\"name\": \"t.me\", \"url\": \"https://t.me/DeepStateUA/22908\"}]",
    
    "marker_radius": 7.9,
    "marker_color": "#f59e0b"
  }
}
```

---

## Related Files

| File | Description |
|------|-------------|
| `events_export.csv` | Tabular export for analysis |
| `units.json` | ORBAT unit registry |
| `external_losses.json` | Equipment losses from external sources |
| `frontline.geojson` | Current frontline positions |

---

## Notes

1. **Coordinates:** Format is `[longitude, latitude]` (GeoJSON standard)
2. **Sources:** The `sources_list` is a JSON string that must be parsed
3. **Filtering:** Events without valid coordinates or sources are excluded
4. **Updates:** File regenerated by `generate_output.py` after each pipeline run
